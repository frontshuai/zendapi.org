<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>欢迎访问 zendAPI 开发博客</title><link rel="icon" href="/zendapi.ico" type="image/ico"><link rel="stylesheet" href="http://oyp0xh70t.bkt.clouddn.com/statics/js/uikit/css/uikit.min.css?1510067041000"><link rel="stylesheet" href="http://oyp0xh70t.bkt.clouddn.com/statics/css/base.css?1510067041000"><link rel="stylesheet" href="http://oyp0xh70t.bkt.clouddn.com/statics/css/blog.css?1510067041000"><script type="text/javascript" src="http://oyp0xh70t.bkt.clouddn.com/statics/js/jquery/jquery-3.2.1.min.js?1510067041000"></script><script type="text/javascript" src="http://oyp0xh70t.bkt.clouddn.com/statics/js/uikit/js/uikit.min.js?1510067041000"></script><script type="text/javascript" src="http://oyp0xh70t.bkt.clouddn.com/statics/js/uikit/js/uikit-icons.min.js?1510067041000"></script></head><body><script type="application/javascript"></script><div class="uk-offcanvas-content"><div id="header-wrapper" class="uk-container uk-margin-remove uk-container-expand site-header" uk-sticky="show-on-up: true; animation: uk-animation-slide-top;"><nav class="uk-navbar-container uk-margin-remove" uk-navbar><div class="uk-navbar-left"><div class="logo"><a href="/"><img src="http://oyp0xh70t.bkt.clouddn.com/statics/images/zendapi.svg?1510067041000"></a></div></div><div class="uk-navbar-right"><ul class="uk-navbar-nav uk-visible@m"><li><a href="/">网站首页</a></li><li><a href="/manual">手册</a></li><li><a href="/api">API文档</a></li><li><a href="/blog">博客</a></li><li><a href="/about">关于我们</a></li></ul><ul class="uk-navbar-nav uk-hidden@m"><li><button class="nav-menu" data-uk-icon="icon: menu" uk-toggle="target: #offcanvas-push"></button></li></ul></div></nav></div><div id="container" style="width:100%"><div class="uk-container uk-margin-small-top uk-margin-small-bottom blog-page-container"><div class="uk-margin-small-bottom site-path uk-visible@s uk-flex uk-flex-left"><div class="icon" uk-icon="icon: home"></div><ul class="uk-breadcrumb"><li><a href="/">网站首页</a></li><li><a href="/blog">博客</a></li></ul></div><div class="blog-list-container"><div class="blog-list-item"><div class="title"><a href="/2017/10/23/phpdeyoudianhequedian/index.html">谈谈 PHP 优点和缺点的认识(转载)</a></div><div class="uk-flex uk-flex-left meta">2017/10/23 11:11:50</div><div class="excerpt uk-margin-medium-top uk-text-break"><p>目前这小半年都在用<code>PHP</code>做一些爬虫类的活儿，回想起来<code>PHP</code>强大的web内容处理让我工作的很高效，可以在目前业界没有通用方案可以参考的前提下很快摸索出合适的方案。我也对<code>PHP</code>的一些优缺点有了进一步的看法，这些观点我可能在别的社区阐述过，这里就稍微整理一下加深我对<code>PHP</code>的理解。</p><h4><a href="#que-dian" class="header-anchor">#</a><span id="que-dian">缺点</span></h4><ol><li><code>PHP</code>最大的缺点就是没有连接池，因为不是常驻内存。虽然可以选择第三方的连接池（一般来说这些连接池也兼有读写分离的功能），不过应用级别的连接池真的很方便，也可以拿来做缓存，当然了<code>PHP</code>有基于共享内存的缓存方案比如：<code>apc</code>（最新的是<code>apcu</code>了）和<code>yac</code>（无锁高速缓存，但是数据可能破坏）可以一定程度缓解这个问题，<code>Swoole</code>、<code>React</code>PHP<code>等异步常驻内存方案抛弃了</code>PHP`易于部署的特性而且不太成熟也很难采用。</li><li>异常和<code>warning/error</code>混在一起，就算<code>PHP</code> 7<code>也没有完全解决这个问题。框架为了解决这个问题可能会去设置</code>error_handler<code>或者</code>shutdown_handler<code>之类的来做自己的异常抛出处理，我写的最大4k行级别的代码大量使用异常机制倒是没遇到坑，但是果然还是希望能把所有的</code>warning/error`抛出成异常。</li><li>运行时还不够强大，包括垃圾回收和没有<code>jit</code>，很多时候需要靠重启进程来解决垃圾回收问题，当然了脚本语言有<code>jit</code>的不多。而<code>PHP</code>的第二次<code>jit</code>尝试提高也很少。</li><li>社区对<code>Laravel</code>这种过度设计+速度慢，连单步调试都做不到的框架（谁能用<code>xdebug</code>能跳进那些充满闭包回调的总线/命令呢）的追捧。</li><li>一些扩展只支持<code>linux</code>，比如<code>pcntl</code>、<code>swoole</code>，这就导致了习惯<code>win</code>下开发的我很难采用这些扩展。</li><li>扩展对多线程支持的不稳定，导致不敢用多线程。</li></ol></div><div><button class="uk-button uk-button-default goto-detail-btn uk-margin-medium-top">进一步阅读</button></div></div><div class="blog-list-item"><div class="title"><a href="/2017/10/08/zendapicunzaideyiyi/index.html">zendAPI 项目是什么以及存在的意义</a></div><div class="uk-flex uk-flex-left meta">2017/10/08 14:08:50</div><div class="meta-img uk-margin-medium-top uk-text-center"><img src="http://oyp0xh70t.bkt.clouddn.com/statics/images/zendapi-normal.svg?1510067038000"></div><div class="excerpt uk-margin-medium-top uk-text-break"><p><br>zendAPI 是对 Zend Engine 的 C 接口使用 C++ 的最新标准 C++11 进行而面向对象的封装，从而屏蔽了底层 Zend Engine API 的接口复杂性，加快开发 PHP 扩展的效率。从而让 PHP 的扩展开发成为一种享受，不用在考虑不同 PHP 版本带来的差异性，彻底将开发者从 Zend Engine 底层接口的细节中解放出来，让开发者专注于自身的业务逻辑。</p><h4><a href="#xiang-mu-de-shi-ming" class="header-anchor">#</a><span id="xiang-mu-de-shi-ming">项目的使命：</span></h4><p><strong>让 PHP 扩展开发成为一种享受</strong></p></div><div><button class="uk-button uk-button-default goto-detail-btn uk-margin-medium-top">进一步阅读</button></div></div><div class="blog-list-item"><div class="title"><a href="/2017/09/14/kaishibianyiceshi/index.html">小小里程碑，开始对主流平台进行编译测试</a></div><div class="uk-flex uk-flex-left meta">2017/09/14 17:38:27</div><div class="excerpt uk-margin-medium-top uk-text-break"><p>zendapi项目的爱好者大家好，谢谢大家对项目的关注，经过大概3个月的紧张开发，现在咱们的项目正式进入了一个小小的里程碑，正式进入主流平台的编译测试，详细计划如下：</p><p><strong>第一期测试我们的目标操作系统如下：(架构都为x86_64,不支持32位操作系统)</strong></p><ol><li>openSUSE-Leap 42.3</li><li>CentOS 7.0</li><li>ubuntu 16.04.3-desktop-amd64</li><li>debian-9.0.1-amd64</li><li>macOS Sierra 10.12.6</li></ol></div><div><button class="uk-button uk-button-default goto-detail-btn uk-margin-medium-top">进一步阅读</button></div></div><div class="blog-list-item"><div class="title"><a href="/2017/07/26/weishenmejiyuphpcpp/index.html">我为什么要基于 PHP-CPP 去实现 zendAPI 项目</a></div><div class="uk-flex uk-flex-left meta">2017/07/26 10:07:08</div><div class="excerpt uk-margin-medium-top uk-text-break"><p>记得去年的这个时候，我刚来奇虎的时候，在研究 PHP 的时候无意之中发现了 PHP—CPP 这个项目，立刻就被她吸引了，原来 PHP 的扩展居然还可以这样去实现，以一种面向对象的方式去开发，我感觉这个是个很好的开头。中间辗转反侧，我也尝试了两个项目，一个是 TOPJS 现在暂时停止了，另一个是 qingeditor，同样暂停开发，折腾最终我也是觉得在 PHP 领域做点东西，所以开始构思 zendAPI。</p><p>我现在的情况是:</p><ol><li>我从未开发过 c++ 项目</li><li>我从来没有开发过 PHP 扩展</li><li>我需要一个由我控制的项目，实施自己的想法，可能不成熟</li></ol></div><div><button class="uk-button uk-button-default goto-detail-btn uk-margin-medium-top">进一步阅读</button></div></div><div class="blog-list-item"><div class="title"><a href="/2017/07/21/xiangmukaifajihua/index.html">zendAPI 项目开发计划</a></div><div class="uk-flex uk-flex-left meta">2017/07/21 10:43:47</div><div class="excerpt uk-margin-medium-top uk-text-break"><p>因为时间有限，开发在每天的上午6点到9点，晚上9点到12点以及周末，所以项目周期可能比正常的要长一点，我的计划如下：</p><h4><a href="#7-yue-dao-8-yue-wan-cheng-dui-zend-engine-de-yi-xie-he-xin-shu-ju-ku-de-feng-zhuang" class="header-anchor">#</a><span id="7-yue-dao-8-yue-wan-cheng-dui-zend-engine-de-yi-xie-he-xin-shu-ju-ku-de-feng-zhuang">7月到8月完成对 zend engine 的一些核心数据库的封装</span></h4><p>这个阶段主要针对 zend engine 一些常用的数据接口做一些面向对象的封装，比如用的最多的 HashTable， zendAPI 会为其提供一个STL风格的迭代器进行数据访问，常见的 HashTable 的访问语义接口，方面开发者的日常调用， 避免用到类型不安全的宏调用。</p></div><div><button class="uk-button uk-button-default goto-detail-btn uk-margin-medium-top">进一步阅读</button></div></div><div class="uk-navbar-container uk-margin-small-bottom uk-margin-small-top page-nav" uk-navbar><div class="uk-navbar-left"></div><div class="uk-navbar-right"><a uk-icon="icon: chevron-right" href="/blog/page/2/"></a></div></div></div></div></div><div id="footer-wrapper"><div class="footer uk-text-center"><div>Copyright © 2016-2017 ZZU_SOFTBOY</div><div><a href="http://www.miitbeian.gov.cn/" target="_Blank">京ICP备17044371号-1</a></div></div></div><div id="offcanvas-push" uk-offcanvas="mode: slide; overlay: true"><div class="uk-offcanvas-bar" id="sidebar"><button class="uk-offcanvas-close" type="button" uk-close></button><div class="menu-container"><ul class="uk-text-left uk-width-1-1"><li class="uk-width-1-1"><a href="/">网站首页</a></li><li class="uk-width-1-1"><a href="/manual">手册</a></li><li class="uk-width-1-1"><a href="/api">API文档</a></li><li class="uk-width-1-1"><a href="/blog">博客</a></li><li class="uk-width-1-1"><a href="/about">关于我们</a></li></ul></div></div></div></div><script type="text/javascript" async src="http://s13.cnzz.com/z_stat.php?id=1264578420"></script><script type="text/javascript" async src="http://c.cnzz.com/core.php?web_id=1264578420&t=z"></script></body></html>