<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>谈谈 PHP 优点和缺点的认识(转载)-zendAPI 博客</title><link rel="icon" href="/zendapi.ico" type="image/ico"><link rel="stylesheet" href="/statics/js/uikit/css/uikit.min.css"><link rel="stylesheet" href="/statics/css/base.css"><link rel="stylesheet" href="/statics/css/article.css"><script type="text/javascript" src="//statics/js/jquery/jquery-3.2.1.min.js"></script><script type="text/javascript" src="//statics/js/uikit/js/uikit.min.js"></script><script type="text/javascript" src="//statics/js/uikit/js/uikit-icons.min.js"></script><script type="text/javascript" src="//statics/js/highlight/highlight.pack.js"></script><link rel="stylesheet" href="/statics/js/highlight/styles/railscasts.css"></head><body><script type="application/javascript"></script><div class="uk-offcanvas-content"><div id="header-wrapper" class="uk-container uk-margin-remove uk-container-expand site-header" uk-sticky="show-on-up: true; animation: uk-animation-slide-top;"><nav class="uk-navbar-container uk-margin-remove" uk-navbar><div class="uk-navbar-left"><div class="logo"><a href="/"><img src="//statics/images/zendapi.svg"></a></div></div><div class="uk-navbar-right"><ul class="uk-navbar-nav uk-visible@m"><li><a href="/">网站首页</a></li><li><a href="/manual">手册</a></li><li><a href="/api">API文档</a></li><li><a href="/blog">博客</a></li><li><a href="/about">关于我们</a></li></ul><ul class="uk-navbar-nav uk-hidden@m"><li><button class="nav-menu" data-uk-icon="icon: menu" uk-toggle="target: #offcanvas-push"></button></li></ul></div></nav></div><div id="container" style="width:100%"><div class="uk-container uk-margin-small-top uk-margin-small-bottom article-page-container"><div class="uk-margin-small-bottom site-path uk-visible@s uk-flex uk-flex-left"><div class="icon" uk-icon="icon: home"></div><ul class="uk-breadcrumb"><li><a href="/">网站首页</a></li><li><a href="/blog">博客</a></li><li class="uk-disabled"><a href="#">文章正文</a></li></ul></div><div><div class="article-container"><h1 class="uk-article-title article-title">谈谈 PHP 优点和缺点的认识(转载)</h1><div class="uk-flex uk-flex-left uk-article-meta article-meta">2017/10/23 11:11:50</div><div class="uk-article article-content uk-margin-medium-bottom"><p>目前这小半年都在用<code>PHP</code>做一些爬虫类的活儿，回想起来<code>PHP</code>强大的web内容处理让我工作的很高效，可以在目前业界没有通用方案可以参考的前提下很快摸索出合适的方案。我也对<code>PHP</code>的一些优缺点有了进一步的看法，这些观点我可能在别的社区阐述过，这里就稍微整理一下加深我对<code>PHP</code>的理解。</p><h4><a href="##que-dian" class="header-anchor">#</a><span id="que-dian">缺点</span></h4><ol><li><code>PHP</code>最大的缺点就是没有连接池，因为不是常驻内存。虽然可以选择第三方的连接池（一般来说这些连接池也兼有读写分离的功能），不过应用级别的连接池真的很方便，也可以拿来做缓存，当然了<code>PHP</code>有基于共享内存的缓存方案比如：<code>apc</code>（最新的是<code>apcu</code>了）和<code>yac</code>（无锁高速缓存，但是数据可能破坏）可以一定程度缓解这个问题，<code>Swoole</code>、<code>React</code>PHP<code>等异步常驻内存方案抛弃了</code>PHP`易于部署的特性而且不太成熟也很难采用。</li><li>异常和<code>warning/error</code>混在一起，就算<code>PHP</code> 7<code>也没有完全解决这个问题。框架为了解决这个问题可能会去设置</code>error_handler<code>或者</code>shutdown_handler<code>之类的来做自己的异常抛出处理，我写的最大4k行级别的代码大量使用异常机制倒是没遇到坑，但是果然还是希望能把所有的</code>warning/error`抛出成异常。</li><li>运行时还不够强大，包括垃圾回收和没有<code>jit</code>，很多时候需要靠重启进程来解决垃圾回收问题，当然了脚本语言有<code>jit</code>的不多。而<code>PHP</code>的第二次<code>jit</code>尝试提高也很少。</li><li>社区对<code>Laravel</code>这种过度设计+速度慢，连单步调试都做不到的框架（谁能用<code>xdebug</code>能跳进那些充满闭包回调的总线/命令呢）的追捧。</li><li>一些扩展只支持<code>linux</code>，比如<code>pcntl</code>、<code>swoole</code>，这就导致了习惯<code>win</code>下开发的我很难采用这些扩展。</li><li>扩展对多线程支持的不稳定，导致不敢用多线程。</li></ol><h4><a href="##you-dian" class="header-anchor">#</a><span id="you-dian">优点</span></h4><ol><li><code>PHP</code>最优秀的特质是兼容性。不管是<code>PHP</code>语言自身还是第三方库，非常注重兼容性……我个人对兼容性非常看重，因为洁癖去<code>break BC</code>是一件非常愚蠢的事，这也是<code>python</code>最大的缺点，<code>py3</code>选择不兼容<code>py2</code>真的非常愚蠢。比如我用<code>mongo</code>，我发现<code>db.dropUser()</code>在大版本里代替了<code>db.removeUser()</code>，但是我并没有看到<code>removeUser</code>有什么大的缺陷，你知道我如果升级了<code>mongo</code>版本就要为了开发者的那点洁癖付出代价。<code>PHP</code>标准库一大堆初创期的命名有问题的函数，但是有时候这些函数真的很好用。<code>PHP</code>兼容性堪比巨硬的兼容性精神。</li><li>语法很朴素不搞标新立异的东西，该有的东西基本都有。<code>PHP</code>最独特的东西莫过于变量前面加$了，除此以外语言本身就和<code>c/c++</code>、<code>java</code>语言非常相似，我认为这也是很多人觉得<code>PHP</code>就是好用的原因之一（当然最大的原因应该是好用的数组和部署简单）。没错这里还是要把<code>py</code>拿出来批判一番，<code>py</code>的缩进看似<code>cool</code>，但是用久了你一定会发现代码写大了缩进很夸张，而且你没法用<code>IDE</code>来格式化<code>py</code>代码，因为<code>py</code>的缩进包含了代码逻辑。<code>PHP</code>的面相对象该有的也有，但是<code>py</code>的<code>class</code>连<code>public/private/protected</code>都没有反射也没有，至少我很多时候写<code>php</code>和写<code>java</code>感觉差不多。现在一些新的语言老是喜欢搞一些标新立异的语法出来（感觉不这样就不<code>cool</code>一样），但是这些语法并没有带来新的特性，然后让人感觉神烦。要不是脚本语言开发快我更愿意用<code>java</code>或者<code>c++</code>。</li><li><code>PHP</code>在<code>web</code>领域积累了很多很棒的第三方库/扩展/框架（可以说是完爆别的脚本语言），注意是<code>web</code>领域，而且跨平台性还很不错。作为一个巨硬党，我就喜欢在 windows 下工作，喜欢在<code>IDE</code>下工作，喜欢<code>GUI</code>，啥<code>vim/emacs/subline</code>我觉得都不如<code>eclipse/vs</code>来单步调试好用。<code>git</code>命令行那么困难不知道你们怎么学会的，我觉得太难了下了个<code>sourcetree</code>都不用学<code>git</code> ，看界面自己就会了。别的开发辅助<code>GUI</code>工具，<code>windows</code>下那是要啥有啥还特好用。<code>PHP</code>的第三方库基于<code>composer</code>管理，我<code>win</code>下开发好直接<code>copy</code>到<code>linux</code>下就跑起来了，简单粗暴有效。</li><li>再往好的方向发展，不断克服缺点。扩展和第三方库分开取得的性能/兼容折中，<code>composer</code>出现的及时，而且<code>PHP</code>意识到的自己缺乏什么不盲目跟风，比如<code>php7</code>能把以前只能<code>error</code>的东西抛出成异常，增加语言的强类型特性，继续提高性能<code>and so on</code>。</li><li>因为强大的标准库+好用的数组+优秀的<code>web</code>库，<code>PHP</code>搞内容处理非常非常强大，在写爬虫需要大量的内容处理的时候对此感受太深刻了。 因为要支持<code>IIS</code>的多线程运行<code>PHP</code>方式，<code>PHP</code>改造了内核可以选择多线程版本，而且<code>pecl</code>扩展都有严格区分了单线程和多线程版本，虽然稳定性欠佳但是脚本语言里论多线程支持，<code>PHP</code>做得非常漂亮。很早的支持了<code>utf8</code>，不用为编码操心。</li></ol><p><a href="http://qsalg.com/?p=456" target="_blank" rel="external">原文链接 沟槽的博客</a></p></div></div><div class="uk-grid-small uk-child-width-expand@s uk-text-center page-nav" uk-grid><div class="uk-width-1-1@s uk-width-1-2@m uk-flex uk-flex-left nav-item"><span data-uk-icon="icon: chevron-left"></span><div class="uk-text-break uk-text-left"><a>没有数据啦</a></div></div><div class="uk-width-1-1@s uk-width-1-2@m uk-width-1-2@m uk-flex uk-flex-right nav-item nav-item-right"><div class="uk-text-break uk-text-right"><a href="/2017/10/08/zendapicunzaideyiyi/index.html">zendAPI 项目是什么以及存在的意义</a></div><span data-uk-icon="icon: chevron-right"></span></div></div></div><div id="SOHUCS"></div><script type="text/javascript">!function(){var t="prod_d0afdf75574bac597b6f6d02cf698bd1";(window.innerWidth||document.documentElement.clientWidth)<960?window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=cythpQTHy&conf='+t+'"><\/script>'):function(t,e){var n=document.getElementsByTagName("head")[0]||document.head||document.documentElement,a=document.createElement("script");a.setAttribute("type","text/javascript"),a.setAttribute("charset","UTF-8"),a.setAttribute("src","http://qn.apkfuns.com/changyan/changyan.js"),"function"==typeof e&&(window.attachEvent?a.onreadystatechange=function(){var t=a.readyState;"loaded"!==t&&"complete"!==t||(a.onreadystatechange=null,e())}:a.onload=e),n.appendChild(a)}(0,function(){window.changyan.api.config({appid:"cythpQTHy",conf:t})})}()</script></div></div><script>$(function(){$(".page-nav .nav-item a").hover(function(){$(".page-nav .nav-item svg").addClass("page-nav-link-hover")},function(){$(".page-nav .nav-item svg").removeClass("page-nav-link-hover")}),$(document).ready(function(){$("pre code").each(function(n,a){hljs.highlightBlock(a)})})})</script><div id="footer-wrapper"><div class="footer uk-text-center"><div>Copyright © 2016-2017 ZZU_SOFTBOY</div><div><a href="http://www.miitbeian.gov.cn/" target="_Blank">京ICP备17044371号-1</a></div></div></div><div id="offcanvas-push" uk-offcanvas="mode: slide; overlay: true"><div class="uk-offcanvas-bar" id="sidebar"><button class="uk-offcanvas-close" type="button" uk-close></button><div class="menu-container"><ul class="uk-text-left uk-width-1-1"><li class="uk-width-1-1"><a href="/">网站首页</a></li><li class="uk-width-1-1"><a href="/manual">手册</a></li><li class="uk-width-1-1"><a href="/api">API文档</a></li><li class="uk-width-1-1"><a href="/blog">博客</a></li><li class="uk-width-1-1"><a href="/about">关于我们</a></li></ul></div></div></div></div><script type="text/javascript" async src="http://s13.cnzz.com/z_stat.php?id=1264578420"></script><script type="text/javascript" async src="http://c.cnzz.com/core.php?web_id=1264578420&t=z"></script></body></html>