<%
let module = page.module;
let mpaths = [];

let modules = page.modules;
let parent = modules[module.parent];
while(parent) {
    mpaths.unshift({
        name: parent.name,
        url: url_for_api_entity(parent.refid)
    });
    parent = modules[parent.parent];
}
let catalog = site.data['api/catalog'];
let moduleIndex = catalog.apimodules;
mpaths.unshift({
    name: moduleIndex.name,
    url: url_for(moduleIndex.url)
});
module.modules.map(function(submodule){
    submodule.url = url_for_api_entity(submodule.refid);
});
module.classes.map(function(cls){
    cls.url = url_for_api_entity(cls.refid);
});
module.defines.map(function(macro){
    macro.url = url_for_entity_detail(macro.containerId, macro.id);
});
module.typedefs.map(function(typedef){
    typedef.url = url_for_entity_detail(typedef.containerId, typedef.id);
    typedef.definition = typedef.definition.replace(typedef.name,
    "<a class = 'uk-text-break' href='"+typedef.url+"'>"+typedef.name+"</a>");
});
module.mpaths = mpaths;
//console.log(module)
%>

window.API_MODULE_CONTENT_DATA = <%- JSON.stringify(module)%>