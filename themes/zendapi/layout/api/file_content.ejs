<%
let fileinfo = page.file;
if (!fileinfo.includes) {
    fileinfo.includes = [];
}
fileinfo.includes.map(function(include){
    if (include.refid) {
        include.url = url_for_api_entity(include.refid);
    }
});
%>
<div id="container" style="width: 100%;">
    <div style={{width:"100%"}}>
        <div class="uk-container uk-margin-small-top uk-margin-small-bottom apidoc-page-container apidoc-file-content-page">
            <div class="manual-container uk-flex uk-flex-left">
                <div class="side-panel-container uk-visible@m">
                    <%- partial("_partial/api/sidepanel") %>
                </div>
                <div class="uk-width-expand apidoc-info-container apidoc-file-content-info-container">
                    <h3 class="title uk-text-break"><%- fileinfo.name %></h3>
                    <% if (fileinfo.includes && fileinfo.includes.length > 0) { %>
                    <ul class="include-files">
                        <% for (let i in fileinfo.includes) { 
                        let item = fileinfo.includes[i];
                        %>
                        <li class="uk-text-break">
                            #include <%- item.local ? '"' : "<" %>
                            <% if (item.url) { %>
                            <a href="<%- item.url %>"><%- item.name %></a>
                            <% } else { %>
                            <span><%- item.name %></span>
                            <% } %>
                            <%- item.local ? '"': ">" %>
                        </li>
                        <% } %>
                    </ul>
                    <% } %>
                    <% if (fileinfo.briefDescription.trim() != "") { %>
                    <div class="uk-text-small uk-text-break uk-margin-small-bottom uk-margin-small-top">
                        <%- fileinfo.briefDescription.trim() %>
                    </div>
                    <% } %>
                    <% if (fileinfo.detailDescription.trim() != "") { %>
                    <div class="uk-text-small uk-text-break uk-margin-small-bottom uk-margin-small-top">
                        <% fileinfo.detailDescription.trim() %>
                    </div>
                    <% } %>
                    <%- partial("_partial/api/namespace_section", {
                        namespaces: fileinfo.namespaces,
                        showSimpleName: false
                    }) %>
                    <%- partial("_partial/api/class_section", {
                        classes: fileinfo.classes,
                        showSimpleName: false
                    }) %>
                    <%- partial("_partial/api/macro_section", {
                        defines: fileinfo.defines
                    }) %>
                    <%- partial("_partial/api/typedef_section", {
                        typedefs: fileinfo.typedefs,
                        showSimpleName: false
                    }) %>
                    <%- partial("_partial/api/enum_section", {
                        enums: fileinfo.enums,
                        showSimpleName: false
                    }) %>
                    <%- partial("_partial/api/function_section", {
                        funcs: fileinfo.funcs,
                        showSimpleName: false
                    }) %>
                    <%- partial("_partial/api/variable_section", {
                        variables: fileinfo.variables,
                        showSimpleName: false
                    }) %>
                    <%- partial("_partial/api/macro_info_section", {
                        defines: fileinfo.defines,
                        containerId: fileinfo.refid
                    }) %>
                    <%- partial("_partial/api/typedef_info_section", {
                        typedefs: fileinfo.typedefs,
                        containerId: fileinfo.refid
                    }) %>
                    <%- partial("_partial/api/enum_info_section", {
                        enums: fileinfo.enums,
                        containerId: fileinfo.refid
                    }) %>
                    <%- partial("_partial/api/function_info_section", {
                        funcs: fileinfo.funcs,
                        containerId: fileinfo.refid
                    }) %>
                    <%- partial("_partial/api/variable_info_section", {
                        variables: fileinfo.variables,
                        containerId: fileinfo.refid
                    }) %>
                    <div class="doxygen-info">generated by Doxygen: <%- get_doxygen_version() %></div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
   $(document).ready(function ()
   {
      if (location.hash.trim().length > 0) {
         let target = $(location.hash);
         if (target.length > 0) {
            $('html,body')
            .stop()
            .animate({scrollTop: Math.round($(location.hash).offset().top)}, 0);
         }
      }
      $(".page-scroll-trigger").each(function(){
         let targetUrl = $(this).attr('href');
         let parts = targetUrl.split('#');
         if (parts) {
            targetUrl = parts[0];
         }
         if (targetUrl == location.pathname) {
            UIkit.scroll(this);
            $(this).on('scrolled', function () {
               location.hash = parts[1];
            });
         }
      });
      $(".detail-description table").each(function ()
      {
         $(this).addClass("uk-table uk-table-divider uk-table-small uk-table-striped");
      });
   });
</script>